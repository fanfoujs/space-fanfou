# 太空饭否 Chrome 扩展 - 安装指南

## ✅ 构建完成

扩展已成功构建，所有文件位于 `dist/` 目录中。

## 📦 可用的安装包

1. **dist/** - 解压的扩展目录（推荐用于个人使用）
2. **space-fanfou-2.0.0.tar.gz** - 压缩包（345KB）

## 🚀 安装方法

### 方法一：直接加载解压扩展（推荐）

这是最简单的方法，适合个人使用：

1. 打开 Chrome 浏览器
2. 访问 `chrome://extensions/`
3. 打开右上角的"开发者模式"开关
4. 点击"加载已解压的扩展程序"按钮
5. 选择本项目的 `dist/` 目录
6. 扩展将立即加载并可以使用

**优点**：
- 快速方便
- 可以随时修改代码并重新加载
- 适合开发和个人使用

**注意**：
- 每次 Chrome 启动时可能会提示"请停用以开发者模式运行的扩展程序"，可以忽略
- 扩展不会自动更新，需要手动重新构建

### 方法二：打包成 CRX 文件

如果您想要一个可安装的 CRX 文件：

1. 打开 Chrome 浏览器
2. 访问 `chrome://extensions/`
3. 打开右上角的"开发者模式"开关
4. 点击"打包扩展程序"按钮
5. 在"扩展程序根目录"中选择 `dist/` 目录
6. 首次打包时"私有密钥文件"留空
7. 点击"打包扩展程序"

**生成的文件**：
- `dist.crx` - 可安装的扩展包
- `dist.pem` - 私钥文件（**重要**：保存好此文件，用于后续更新）

**安装 CRX**：
1. 将生成的 `.crx` 文件拖拽到 `chrome://extensions/` 页面
2. 确认安装

**重要提醒**：
- `.pem` 私钥文件必须妥善保管
- 如果丢失私钥，后续更新将无法保持扩展 ID 一致
- 建议将 `.pem` 文件备份到安全位置

### 方法三：使用 tar.gz 包

如果需要将扩展传输到其他机器：

```bash
# 解压
tar -xzf space-fanfou-2.0.0.tar.gz -C dist-extracted

# 然后使用方法一加载 dist-extracted 目录
```

## 🧪 测试扩展

安装后，访问 [https://fanfou.com](https://fanfou.com) 进行测试：

**核心功能检查清单**：
- ✅ 页面样式是否正常加载
- ✅ 自动翻页功能（向下滚动时自动加载更多消息）
- ✅ 浮动输入框
- ✅ 桌面通知（需要授权）
- ✅ 点击扩展图标打开设置页面
- ✅ 多用户切换功能
- ✅ 消息批量管理

## 🔧 后续更新

如果需要重新构建扩展：

```bash
# 1. 修改代码（如果需要）
# 2. 重新构建
npm run build

# 3. 如果使用方法一，在 chrome://extensions/ 中点击扩展的"重新加载"按钮
# 4. 如果使用方法二，需要重新打包（使用相同的 .pem 文件）
```

## 📋 技术信息

- **Manifest 版本**: V3 ✅
- **最低 Chrome 版本**: 88
- **当前版本**: 2.0.0
- **构建时间**: 2025-11-06

## ⚠️ 已知限制

由于是开发者模式安装，Chrome 可能会：
- 每次启动时显示警告提示
- 不会自动更新扩展
- 扩展列表中会显示"开发者模式"标记

这些都是正常现象，不影响使用。

## 🐛 故障排除

**问题：扩展无法加载**
- 确保选择的是 `dist/` 目录，不是项目根目录
- 检查 `dist/manifest.json` 文件是否存在

**问题：功能不正常**
- 刷新 fanfou.com 页面
- 在 `chrome://extensions/` 中点击扩展的"重新加载"按钮
- 检查浏览器控制台是否有错误信息

**问题：通知不工作**
- 检查是否授予了通知权限
- 在扩展设置中启用通知功能

## 📞 支持

如遇到问题，请检查：
- Chrome 版本是否 >= 88
- 是否正确加载了 `dist/` 目录
- 浏览器控制台的错误信息

---

**祝使用愉快！** 🎉
